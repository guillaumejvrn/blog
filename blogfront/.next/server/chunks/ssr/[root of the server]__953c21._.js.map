{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/guill/Desktop/blog/blogfront/app/component/Header.tsx"],"sourcesContent":["\"use client\"; // Pour √©viter les erreurs de rendu c√¥t√© serveur (SSR)\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst Header: React.FC = () => {\r\n    const [isAuth, setIsAuth] = useState(false);\r\n    const router = useRouter(); // Utiliser le routeur de Next.js\r\n\r\n    useEffect(() => {\r\n        const cookie = Cookies.get(\"token\");\r\n        setIsAuth(!!cookie);\r\n    }, []);\r\n\r\n    const profil = () => (isAuth ? \"/blog/auth/profil\" : \"/blog/auth/login\");\r\n\r\n    return (\r\n        <nav className=\"navBar\">\r\n            <div className=\"iconArrengment\">\r\n                <div className=\"topIcon\">\r\n                    <button className=\"headerButton\" onClick={() => router.push(profil())}>\r\n                        <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                            <path d=\"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464l349.5 0c-8.9-63.3-63.3-112-129-112l-91.4 0c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3z\"/>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n                <div className=\"middleIcon\">\r\n                    <button className=\"headerButton\" onClick={() => router.push(\"/\")}>\r\n                        <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path d=\"M88.2 309.1c9.8-18.3 6.8-40.8-7.5-55.8C59.4 230.9 48 204 48 176c0-63.5 63.8-128 160-128s160 64.5 160 128s-63.8 128-160 128c-13.1 0-25.8-1.3-37.8-3.6c-10.4-2-21.2-.6-30.7 4.2c-4.1 2.1-8.3 4.1-12.6 6c-16 7.2-32.9 13.5-49.9 18c2.8-4.6 5.4-9.1 7.9-13.6c1.1-1.9 2.2-3.9 3.2-5.9zM208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 41.8 17.2 80.1 45.9 110.3c-.9 1.7-1.9 3.5-2.8 5.1c-10.3 18.4-22.3 36.5-36.6 52.1c-6.6 7-8.3 17.2-4.6 25.9C5.8 378.3 14.4 384 24 384c43 0 86.5-13.3 122.7-29.7c4.8-2.2 9.6-4.5 14.2-6.8c15.1 3 30.9 4.5 47.1 4.5zM432 480c16.2 0 31.9-1.6 47.1-4.5c4.6 2.3 9.4 4.6 14.2 6.8C529.5 498.7 573 512 616 512c9.6 0 18.2-5.7 22-14.5c3.8-8.8 2-19-4.6-25.9c-14.2-15.6-26.2-33.7-36.6-52.1c-.9-1.7-1.9-3.4-2.8-5.1C622.8 384.1 640 345.8 640 304c0-94.4-87.9-171.5-198.2-175.8c4.1 15.2 6.2 31.2 6.2 47.8l0 .6c87.2 6.7 144 67.5 144 127.4c0 28-11.4 54.9-32.7 77.2c-14.3 15-17.3 37.6-7.5 55.8c1.1 2 2.2 4 3.2 5.9c2.5 4.5 5.2 9 7.9 13.6c-17-4.5-33.9-10.7-49.9-18c-4.3-1.9-8.5-3.9-12.6-6c-9.5-4.8-20.3-6.2-30.7-4.2c-12.1 2.4-24.8 3.6-37.8 3.6c-61.7 0-110-26.5-136.8-62.3c-16 5.4-32.8 9.4-50 11.8C279 439.8 350 480 432 480z\"/></svg>\r\n                    </button>\r\n                    <button className=\"headerButton\" onClick={() => router.push(\"/bookmark\")}>\r\n                        <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\">\r\n                            <path d=\"M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z\"/>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA,cAAc,sDAAsD;;;;;AAMpE,MAAM,SAAmB;IACrB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD,KAAK,iCAAiC;IAE7D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,SAAS,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QAC3B,UAAU,CAAC,CAAC;IAChB,GAAG,EAAE;IAEL,MAAM,SAAS,IAAO,SAAS,sBAAsB;IAErD,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAO,WAAU;wBAAe,SAAS,IAAM,OAAO,IAAI,CAAC;kCACxD,cAAA,8OAAC;4BAAI,WAAU;4BAAW,OAAM;4BAA6B,SAAQ;sCACjE,cAAA,8OAAC;gCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;8BAIpB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAO,WAAU;4BAAe,SAAS,IAAM,OAAO,IAAI,CAAC;sCACxD,cAAA,8OAAC;gCAAI,WAAU;gCAAW,OAAM;gCAA6B,SAAQ;0CAAc,cAAA,8OAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;sCAE/F,8OAAC;4BAAO,WAAU;4BAAe,SAAS,IAAM,OAAO,IAAI,CAAC;sCACxD,cAAA,8OAAC;gCAAI,WAAU;gCAAW,OAAM;gCAA6B,SAAQ;0CACjE,cAAA,8OAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC;uCAEe"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/guill/Desktop/blog/blogfront/app/component/AxiosInstance.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: \"http://localhost:6624\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default axiosInstance;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACjC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;uCAEe"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/guill/Desktop/blog/blogfront/app/blog/newmessage/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Header from \"@/app/component/Header\";\r\nimport { useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport axiosInstance from \"@/app/component/AxiosInstance\";\r\n\r\nexport default function Home() {\r\n    const [message, setMessage] = useState<string>('');\r\n    const [image, setImage] = useState<File | null>(null); // Stocke un fichier et non une string\r\n    const [fileId, setFileId] = useState<string | null>(null); // Stocke l'ID du fichier\r\n\r\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            setImage(e.target.files[0]); // Stocke le fichier dans le state\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        const token = Cookies.get(\"token\");\r\n\r\n        if (!token) {\r\n            console.error(\"Aucun token trouv√© !\");\r\n            return;\r\n        }\r\n\r\n        const headers = {\r\n            \"Authorization\": `Bearer ${token}`\r\n        };\r\n\r\n        let uploadedFileId = fileId; // Conserve l'ID du fichier s'il existe d√©j√†\r\n\r\n        if (image) {\r\n            // üì§ **Upload de l'image**\r\n            const formData = new FormData();\r\n            formData.append(\"file\", image);\r\n\r\n            try {\r\n                const uploadResponse = await axiosInstance.post(\"/file/upload\", formData, {\r\n                    headers: {\r\n                        \"Content-Type\": \"multipart/form-data\",\r\n                        ...headers\r\n                    }\r\n                });\r\n                console.log(\"Upload r√©ussi :\", uploadResponse.data);\r\n                uploadedFileId = uploadResponse.data.id; // R√©cup√®re l'ID du fichier\r\n                setFileId(uploadedFileId);\r\n            } catch (error) {\r\n                console.error(\"Erreur lors de l'upload :\", error);\r\n                return; // Arr√™te la soumission si l'upload √©choue\r\n            }\r\n        }\r\n\r\n        // üì§ **Envoi du message**\r\n        const theme = Cookies.get(\"theme\");\r\n        const themeAsNumber = theme ? Number(theme) : null;\r\n\r\n        const data = {\r\n            messageContent: message,\r\n            fileNum: uploadedFileId, // Utilise l'ID r√©cup√©r√© apr√®s l'upload\r\n            themeID: themeAsNumber\r\n        };\r\n\r\n        try {\r\n            const response = await axiosInstance.post(\"/sendMessage\", data, {\r\n                headers: { \"Content-Type\": \"application/json\", ...headers }\r\n            });\r\n            console.log(\"Message envoy√© :\", response.data);\r\n            window.location.href = \"/blog/theme/showtheme\";\r\n        } catch (error) {\r\n            console.error(\"Erreur lors de l'envoi du message :\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div>\r\n                <h2>Poster un nouveau message</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <label htmlFor=\"message\">Message</label>\r\n\r\n                    {/* Input file corrig√© */}\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleFileChange}\r\n                    />\r\n\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"message\"\r\n                        placeholder=\"Entrez votre message\"\r\n                        value={message}\r\n                        onChange={(e) => setMessage(e.target.value)}\r\n                        required\r\n                    />\r\n                    <button type=\"submit\">Poster</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe,OAAO,sCAAsC;IAC7F,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB,OAAO,yBAAyB;IAEpF,MAAM,mBAAmB,CAAC;QACtB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACrC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,kCAAkC;QACnE;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,MAAM,cAAc;QACpB,MAAM,QAAQ,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QAE1B,IAAI,CAAC,OAAO;YACR,QAAQ,KAAK,CAAC;YACd;QACJ;QAEA,MAAM,UAAU;YACZ,iBAAiB,CAAC,OAAO,EAAE,OAAO;QACtC;QAEA,IAAI,iBAAiB,QAAQ,4CAA4C;QAEzE,IAAI,OAAO;YACP,2BAA2B;YAC3B,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,IAAI;gBACA,MAAM,iBAAiB,MAAM,kIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,gBAAgB,UAAU;oBACtE,SAAS;wBACL,gBAAgB;wBAChB,GAAG,OAAO;oBACd;gBACJ;gBACA,QAAQ,GAAG,CAAC,mBAAmB,eAAe,IAAI;gBAClD,iBAAiB,eAAe,IAAI,CAAC,EAAE,EAAE,2BAA2B;gBACpE,UAAU;YACd,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,QAAQ,0CAA0C;YACtD;QACJ;QAEA,0BAA0B;QAC1B,MAAM,QAAQ,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QAC1B,MAAM,gBAAgB,QAAQ,OAAO,SAAS;QAE9C,MAAM,OAAO;YACT,gBAAgB;YAChB,SAAS;YACT,SAAS;QACb;QAEA,IAAI;YACA,MAAM,WAAW,MAAM,kIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,gBAAgB,MAAM;gBAC5D,SAAS;oBAAE,gBAAgB;oBAAoB,GAAG,OAAO;gBAAC;YAC9D;YACA,QAAQ,GAAG,CAAC,oBAAoB,SAAS,IAAI;YAC7C,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,uCAAuC;QACzD;IACJ;IAEA,qBACI,8OAAC;;0BACG,8OAAC,2HAAA,CAAA,UAAM;;;;;0BACP,8OAAC;;kCACG,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAK,UAAU;;0CACZ,8OAAC;gCAAM,SAAQ;0CAAU;;;;;;0CAGzB,8OAAC;gCACG,MAAK;gCACL,QAAO;gCACP,UAAU;;;;;;0CAGd,8OAAC;gCACG,MAAK;gCACL,IAAG;gCACH,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,QAAQ;;;;;;0CAEZ,8OAAC;gCAAO,MAAK;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;AAK1C"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}