{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/guill/Desktop/blog/blogfront/app/component/AxiosInstance.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: \"http://localhost:6624\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default axiosInstance;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACjC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;uCAEe"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/guill/Desktop/blog/blogfront/app/component/Header.tsx"],"sourcesContent":["\"use client\"; // Pour éviter les erreurs de rendu côté serveur (SSR)\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst Header: React.FC = () => {\r\n    const [isAuth, setIsAuth] = useState(false);\r\n    const router = useRouter(); // Utiliser le routeur de Next.js\r\n\r\n    useEffect(() => {\r\n        const cookie = Cookies.get(\"token\");\r\n        setIsAuth(!!cookie);\r\n    }, []);\r\n\r\n    const profil = () => (isAuth ? \"/blog/auth/profil\" : \"/blog/auth/login\");\r\n\r\n    return (\r\n        <nav className=\"navBar\">\r\n            <div className=\"iconArrengment\">\r\n                <div className=\"topIcon\">\r\n                    <button className=\"headerButton\" onClick={() => router.push(profil())}>\r\n                        <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                            <path d=\"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464l349.5 0c-8.9-63.3-63.3-112-129-112l-91.4 0c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3z\"/>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n                <div className=\"middleIcon\">\r\n                    <button className=\"headerButton\" onClick={() => router.push(\"/\")}>\r\n                        <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path d=\"M88.2 309.1c9.8-18.3 6.8-40.8-7.5-55.8C59.4 230.9 48 204 48 176c0-63.5 63.8-128 160-128s160 64.5 160 128s-63.8 128-160 128c-13.1 0-25.8-1.3-37.8-3.6c-10.4-2-21.2-.6-30.7 4.2c-4.1 2.1-8.3 4.1-12.6 6c-16 7.2-32.9 13.5-49.9 18c2.8-4.6 5.4-9.1 7.9-13.6c1.1-1.9 2.2-3.9 3.2-5.9zM208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 41.8 17.2 80.1 45.9 110.3c-.9 1.7-1.9 3.5-2.8 5.1c-10.3 18.4-22.3 36.5-36.6 52.1c-6.6 7-8.3 17.2-4.6 25.9C5.8 378.3 14.4 384 24 384c43 0 86.5-13.3 122.7-29.7c4.8-2.2 9.6-4.5 14.2-6.8c15.1 3 30.9 4.5 47.1 4.5zM432 480c16.2 0 31.9-1.6 47.1-4.5c4.6 2.3 9.4 4.6 14.2 6.8C529.5 498.7 573 512 616 512c9.6 0 18.2-5.7 22-14.5c3.8-8.8 2-19-4.6-25.9c-14.2-15.6-26.2-33.7-36.6-52.1c-.9-1.7-1.9-3.4-2.8-5.1C622.8 384.1 640 345.8 640 304c0-94.4-87.9-171.5-198.2-175.8c4.1 15.2 6.2 31.2 6.2 47.8l0 .6c87.2 6.7 144 67.5 144 127.4c0 28-11.4 54.9-32.7 77.2c-14.3 15-17.3 37.6-7.5 55.8c1.1 2 2.2 4 3.2 5.9c2.5 4.5 5.2 9 7.9 13.6c-17-4.5-33.9-10.7-49.9-18c-4.3-1.9-8.5-3.9-12.6-6c-9.5-4.8-20.3-6.2-30.7-4.2c-12.1 2.4-24.8 3.6-37.8 3.6c-61.7 0-110-26.5-136.8-62.3c-16 5.4-32.8 9.4-50 11.8C279 439.8 350 480 432 480z\"/></svg>\r\n                    </button>\r\n                    <button className=\"headerButton\" onClick={() => router.push(\"/bookmark\")}>\r\n                        <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\">\r\n                            <path d=\"M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z\"/>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA,cAAc,sDAAsD;;;;;AAMpE,MAAM,SAAmB;IACrB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD,KAAK,iCAAiC;IAE7D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,SAAS,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QAC3B,UAAU,CAAC,CAAC;IAChB,GAAG,EAAE;IAEL,MAAM,SAAS,IAAO,SAAS,sBAAsB;IAErD,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAO,WAAU;wBAAe,SAAS,IAAM,OAAO,IAAI,CAAC;kCACxD,cAAA,8OAAC;4BAAI,WAAU;4BAAW,OAAM;4BAA6B,SAAQ;sCACjE,cAAA,8OAAC;gCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;8BAIpB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAO,WAAU;4BAAe,SAAS,IAAM,OAAO,IAAI,CAAC;sCACxD,cAAA,8OAAC;gCAAI,WAAU;gCAAW,OAAM;gCAA6B,SAAQ;0CAAc,cAAA,8OAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;sCAE/F,8OAAC;4BAAO,WAAU;4BAAe,SAAS,IAAM,OAAO,IAAI,CAAC;sCACxD,cAAA,8OAAC;gCAAI,WAAU;gCAAW,OAAM;gCAA6B,SAAQ;0CACjE,cAAA,8OAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC;uCAEe"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/guill/Desktop/blog/blogfront/app/blog/theme/showtheme/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from 'next/link';\r\nimport {useEffect, useState} from \"react\";\r\nimport AxiosInstance from \"@/app/component/AxiosInstance\";\r\nimport Cookies from \"js-cookie\";\r\nimport Header from \"@/app/component/Header\";\r\n\r\ninterface Message {\r\n    timestamp: number[];\r\n    userId: number;\r\n    fileNum: number;\r\n    id: number;\r\n    content: string;\r\n    author: {\r\n        name: string;\r\n    };\r\n}\r\n\r\nexport default function Theme() {\r\n    const [messages, setMessages] = useState<Message[]>([]);\r\n    const [userNames, setUserNames] = useState<{ [key: number]: string }>({});\r\n    const cookie = Cookies.get('token');\r\n    const [image, setImage] = useState<{ [key: number]: string }>({});\r\n    const theme = Cookies.get('theme');\r\n\r\n    useEffect(() => {\r\n        if (theme === undefined) {\r\n            window.location.href = '/';\r\n        }\r\n\r\n        if (theme) {\r\n            const themeAsNumber = Number(theme);\r\n            console.log(\"Cookie 'theme' trouvé:\", themeAsNumber);\r\n            const api = () => {\r\n                return {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${cookie}`\r\n                    }\r\n                }\r\n            }\r\n            AxiosInstance.get(`/getMessages?page=0&size=10&themeID=${themeAsNumber}`, api()).then(\r\n                (response) => {\r\n                    console.log(response);\r\n                    setMessages(response.data.content);\r\n                    const uniqueIds: number[] = Array.from(new Set(response.data.content.map((message: Message) => message.userId)));\r\n                    const uniqueFileNums: number[] = Array.from(new Set(response.data.content.map((message: Message) => message.fileNum)));\r\n\r\n                    uniqueFileNums.forEach((fileNum) => {\r\n                        if (fileNum === null) return;\r\n                        AxiosInstance.get(`/file/${fileNum}`, { responseType: \"blob\" }).then(\r\n                            (response) => {\r\n                                const url = URL.createObjectURL(response.data);\r\n                                setImage(prevImage => ({\r\n                                    ...prevImage,\r\n                                    [fileNum]: url\r\n                                }));\r\n                            }\r\n                        ).catch((error) => {\r\n                            console.log(error);\r\n                        });\r\n                    });\r\n\r\n                    uniqueIds.forEach((id) => {\r\n                        const uniqueid = () => {\r\n                            return {\r\n                                userId: id\r\n                            }\r\n                        }\r\n                        AxiosInstance.post(`/getUserById`, uniqueid()).then(\r\n                            (response) => {\r\n                                setUserNames(prevState => ({\r\n                                    ...prevState,\r\n                                    [id]: response.data.name\r\n                                }));\r\n                            }\r\n                        ).catch((error) => {\r\n                            console.log(error);\r\n                        });\r\n                    });\r\n\r\n                }\r\n            ).catch((error) => {\r\n                console.log(error);\r\n            });\r\n        } else {\r\n            console.log(\"Aucun cookie 'token' trouvé.\");\r\n        }\r\n\r\n    }, [cookie]);\r\n\r\n    const formatTimestamp = (timestamp: string | number | number[] | null): string => {\r\n        // Si timestamp est un tableau, utiliser le premier élément\r\n        if (Array.isArray(timestamp)) {\r\n            timestamp = timestamp[0];  // Prendre le premier élément du tableau\r\n        }\r\n\r\n        // Si timestamp est un nombre, le convertir en chaîne\r\n        if (typeof timestamp === \"number\") {\r\n            timestamp = timestamp.toString();\r\n        }\r\n\r\n        // Vérification si le timestamp est valide\r\n        if (!timestamp) {\r\n            return \"Pas de date\";\r\n        }\r\n\r\n        const dateObj = new Date(timestamp);\r\n        if (isNaN(dateObj.getTime())) {\r\n            console.log(\"Invalid Date object created from:\", timestamp);\r\n            return \"Pas de date\";\r\n        }\r\n\r\n        const today = new Date();\r\n\r\n        const isSameDay = dateObj.getDate() === today.getDate() &&\r\n            dateObj.getMonth() === today.getMonth() &&\r\n            dateObj.getFullYear() === today.getFullYear();\r\n\r\n        const isSameYear = dateObj.getFullYear() === today.getFullYear();\r\n\r\n        if (isSameDay) {\r\n            return dateObj.toLocaleString(\"fr-FR\", {\r\n                hour: \"2-digit\",\r\n                minute: \"2-digit\",\r\n            });\r\n        } else if (isSameYear) {\r\n            return dateObj.toLocaleString(\"fr-FR\", {\r\n                hour: \"2-digit\",\r\n                minute: \"2-digit\",\r\n                day: \"2-digit\",\r\n                month: \"2-digit\",\r\n            });\r\n        } else {\r\n            return dateObj.toLocaleString(\"fr-FR\", {\r\n                day: \"2-digit\",\r\n                hour: \"2-digit\",\r\n                minute: \"2-digit\",\r\n                year: \"numeric\",\r\n                month: \"2-digit\",\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div className=\"mainContent\">\r\n                <div className=\"topFil\">\r\n                    <div></div>\r\n                    <h2>Le fil</h2>\r\n                    <Link href={'/blog/newmessage'}>\r\n                        <button className=\"linkNewMessage\">\r\n                            <svg className=\"iconPage\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                                <path d=\"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z\"/>\r\n                            </svg>\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"messages\">\r\n                    {messages.map((message: Message) => (\r\n                        <div className=\"messagebox\" key={message.id}>\r\n                            <div className=\"topMessage\">\r\n                                <div className=\"messageUserName\">{userNames[message.userId]}</div>\r\n                                <div className=\"messageDate\">{formatTimestamp(message.timestamp)}</div>\r\n                            </div>\r\n                            <div className=\"imgDiv\">\r\n                                {message.fileNum ? (\r\n                                    <img src={image[message.fileNum]} className=\"imgPost\" alt=\"Image uploadée\" />\r\n                                ) : (\r\n                                    <div></div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"messageContent\">{message.content}</div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}